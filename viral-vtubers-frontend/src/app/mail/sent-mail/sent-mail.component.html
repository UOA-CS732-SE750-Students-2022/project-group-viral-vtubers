<div class="content-container" *ngIf="mails$ | async as mails; else loading">
  <ng-container *ngIf="mails.length > 0; else empty">
    <div *ngFor="let mail of mails" class="mail-item">
      <h4>{{ mail.title }}</h4>
      <p class="mail-meta">
        to
        <span
          ><a routerLink="/user/{{ mail.receiver.id }}">{{
            mail.receiver.displayName
          }}</a></span
        >
        sent {{ mail.date }}
      </p>
      <p class="mail-content">{{ mail.body }}</p>
    </div>
  </ng-container>
</div>

<ng-template #loading>
  <div class="loading-container">
    <app-loading chibi="vivi" height="300px" fontSize="large"
      ><p text>Vivi is working hard to load your mails...</p></app-loading
    >
  </div>
</ng-template>

<ng-template #empty>
  <div class="loading-container">
    <app-loading chibi="vivi" height="300px" fontSize="large"
      ><p text>
        No send mail yet... How about
        <a routerLink="/mail/new">sending a mail</a>?
      </p></app-loading
    >
  </div>
</ng-template>
